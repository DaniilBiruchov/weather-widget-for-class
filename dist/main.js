(()=>{"use strict";function e(e,t="GET"){return new Promise(((n,r)=>{const s=new XMLHttpRequest;s.open(t,e),s.onload=()=>{"200"==s.status?n(s.response):r(s.status+" "+s.statusText)},s.onerror=()=>{r(s.status+" "+s.statusText)},s.send()}))}console.log("index.js"),new class{key="1354067d4c5e5ba7d6625f68d153937b";urlWetherCurrent=`https://api.openweathermap.org/data/2.5/weather?q=Minsk&appid=${this.key}`;CORRECTION_VALUE=273.15;TIME_CONVERSION=1e3;constructor(e){this.hederElement=document.querySelector(e),this.loadData()}transformTime(e){return e<10?`0${e}`:e}loadData(){e(this.urlWetherCurrent).then((e=>{const t=JSON.parse(e),n=t.name;let r=t.wind.deg;const s=Math.round(t.wind.speed);0===r?r="North":r>0&&r<90?r="North-East":90===r?r="East":r>90&&r<180?r="East-South":180===r?r="South":r>180&&r<270?r="South-west":270===r?r="west":r>270&&r<360?r="west-North":360===r&&(r="North");const a=new Date(t.dt*this.TIME_CONVERSION),i=this.transformTime(a.getHours())+":"+this.transformTime(a.getMinutes()),o=Math.round(t.main.temp-this.CORRECTION_VALUE),h=t.sys.country,d=Math.round(t.main.feels_like-this.CORRECTION_VALUE);this.renderHeder({city:n,windDeg:r,windSpeed:s,temp:o,countryCode:h,feels_like:d,iconSrc:"http://openweathermap.org/img/wn/04n@2x.png",newDate:i})}))}templateWetherCurrent(e){const{city:t,windDeg:n,windSpeed:r,temp:s,countryCode:a,feels_like:i,iconSrc:o,newDate:h}=e;return`\n                  <div class="city">\n                      <h2>${t}, ${a} </h2>\n                      <p>${h}</p>\n                  </div>\n                  <div class="temperature">\n                      <img src="${o}">\n                      <h1>${s} ˚C</h1>\n                      <p>Feels like ${i} ˚C</p>\n                  </div>\n                  <div class="wind">\n                      <p>${n}</p>\n                      <p>${r} m/s</p>\n                  </div>\n            `}renderHeder(e){this.hederElement.innerHTML+=this.templateWetherCurrent(e)}}(".heder"),new class{CORRECTION_VALUE=273.15;TIME_CONVERSION=1e3;key="1354067d4c5e5ba7d6625f68d153937b";urlWetherByDays=`https://api.openweathermap.org/data/2.5/forecast?q=Minsk&appid=${this.key}`;constructor(e){this.mainElement=document.querySelector(e),this.loadData()}transformTime(e){return e<10?`0${e}`:e}loadData(){e(this.urlWetherByDays).then((e=>{JSON.parse(e).list.forEach(((e,t)=>{if(t%8==0){const t=new Date(e.dt*this.TIME_CONVERSION),n=this.transformTime(t.getDate())+"."+this.transformTime(t.getMonth())+" "+this.transformTime(t.getHours())+" p.m.",r=Math.round(e.main.temp-this.CORRECTION_VALUE),s="http://openweathermap.org/img/wn/03n@2x.png";this.renderMain({temp:r,newDate:n,iconSrc:s})}}))}))}templateWetherByDays(e){const{temp:t,newDate:n,iconSrc:r}=e;return`\n          <div class="day">\n            <p><strong>${n}</strong></p>\n            <img src="${r}">\n            <p><strong>${t} ˚C</strong></p>\n          </div>\n    `}renderMain(e){this.mainElement.innerHTML+=this.templateWetherByDays(e)}}(".main")})();